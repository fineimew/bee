<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Virtual Machine and Simulator · Open Power Quality</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="OPQ Virtual Machine is a virtual machine (VM) that comes preloaded with the entire OPQ software stack pre-configured and set to start at boot."/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Virtual Machine and Simulator · Open Power Quality"/><meta property="og:type" content="website"/><meta property="og:url" content="https://openpowerquality.org/index.html"/><meta property="og:description" content="OPQ Virtual Machine is a virtual machine (VM) that comes preloaded with the entire OPQ software stack pre-configured and set to start at boot."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/opq.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><link rel="alternate" type="application/atom+xml" href="https://openpowerquality.org/blog/atom.xml" title="Open Power Quality Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://openpowerquality.org/blog/feed.xml" title="Open Power Quality Blog RSS Feed"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Gugi"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script><script type="text/javascript" src="/js/mathjax-config.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/opqlogo_white.png" alt="Open Power Quality"/><h2 class="headerTitleWithLogo">Open Power Quality</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/intro-motivation.html" target="_self">Documentation</a></li><li class="siteNavGroupActive"><a href="/docs/other-opportunities.html" target="_self">Opportunities</a></li><li class=""><a href="/blog/" target="_self">News</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Developer Guide: Misc</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Introduction</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/intro-motivation.html">Motivation for OPQ</a></li><li class="navListItem"><a class="navItem" href="/docs/intro-power-quality.html">A beginner&#x27;s guide to power quality</a></li><li class="navListItem"><a class="navItem" href="/docs/intro-system-architecture.html">OPQ System Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/intro-information-architecture.html">OPQ Information Architecture</a></li><li class="navListItem"><a class="navItem" href="/docs/intro-related-work.html">Related Work</a></li><li class="navListItem"><a class="navItem" href="/docs/intro-bibliography.html">Bibliography</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">User Guide</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/userguide-hardware.html">OPQ Box</a></li><li class="navListItem"><a class="navItem" href="/docs/userguide-software.html">OPQ Cloud</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Developer Guide: OPQ Box</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/box-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/box-hardware-design.html">Hardware Design</a></li><li class="navListItem"><a class="navItem" href="/docs/box-software-design.html">Software Design</a></li><li class="navListItem"><a class="navItem" href="/docs/box-manufacturing.html">Manufacturing</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Developer Guide: OPQ Cloud</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/cloud-overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-datamodel.html">Data Model</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-view.html">View</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-mauka.html">Mauka</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-makai.html">Makai</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-health.html">Health</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-healthv2.html">Health v2</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-box-update-server.html">Box Update Server</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-mongodb.html">MongoDB</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-protocol.html">Protocol</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-port-map.html">Port Map</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-docker.html">Docker</a></li><li class="navListItem"><a class="navItem" href="/docs/cloud-migration.html">Cloud Migration</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Developer Guide: Misc</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/developerguide-docusaurus.html">Documentation</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/developerguide-virtual-machine.html">VM &amp; Sim</a></li><li class="navListItem"><a class="navItem" href="/docs/developerguide-bibliography.html">Bibliography</a></li><li class="navListItem"><a class="navItem" href="/docs/developerguide-emilia-ssh.html">Emilia SSH</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle">Other</h3><ul class=""><li class="navListItem"><a class="navItem" href="/docs/other-roadmap.html">Roadmap</a></li><li class="navListItem"><a class="navItem" href="/docs/other-opportunities.html">R&amp;D Opportunities</a></li><li class="navListItem"><a class="navItem" href="/docs/other-agile-power-monitoring.html">Agile Power Monitoring for UH</a></li><li class="navListItem"><a class="navItem" href="/docs/other-g1-pilot-study.html">G1 Pilot Study (2014)</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Virtual Machine and Simulator</h1></header><article><div><span><p>OPQ Virtual Machine is a virtual machine (VM) that comes preloaded with the entire OPQ software stack pre-configured and set to start at boot.</p>
<p>The VM also acts as a full system test bed and simulator. The VM contains a simulator that can simulate the raw waveform of OPQBoxes.</p>
<p>The VM runs on top of 64-bit Debian Linux.</p>
<h2><a class="anchor" aria-hidden="true" id="installation"></a><a href="#installation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Installation</h2>
<p><em>Note: Full installation may take upwards of 10 gigabytes of hard drive space.</em></p>
<ol>
<li>Download and install the latest version of Virtual Box from <a href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a></li>
<li>Download the latest OPQ VM image from our <a href="https://drive.google.com/file/d/1Zqa9tFTIVx0aC0k-9kd6vm5XTz0f00Ki/view?usp=sharing">Google Drive</a></li>
<li>Open Virtual Box, select <code>File</code> -&gt; <code>Import Appliance...</code></li>
<li>Find and select the OpqSim.ova file you downloaded in step 2.</li>
<li>Hit <code>Next</code> followed by <code>Import</code>. Importing can take a few moments...</li>
<li>You should now see OpqSim in your list of virtual machines.</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="running"></a><a href="#running" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Running</h2>
<ol>
<li>Select the OpqSim virtual machine and press <code>Start</code>.</li>
<li>The machine will now boot.</li>
<li>In general, you shouldn't need to log into the VM since the necessary services are already port forwarded via Virtual Box. However, should you need to log into the VM:
<ol>
<li>Username is <code>pi</code> and password is <code>opq</code>.</li>
<li>SSH into the machine with <code>ssh -p 3022 pi@localhost</code> or</li>
<li>Log in through the GUI</li>
</ol></li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="interacting-with-the-vm"></a><a href="#interacting-with-the-vm" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interacting with the VM</h2>
<p>Different services are preconfigured to be port forwarded to your local host from the VM.</p>
<table>
<thead>
<tr><th>Service</th><th>Port</th></tr>
</thead>
<tbody>
<tr><td>SSH</td><td>3022</td></tr>
<tr><td>MongoDB</td><td>27017</td></tr>
<tr><td>OPQSim</td><td>8000</td></tr>
<tr><td>Triggering</td><td>28080</td></tr>
</tbody>
</table>
<p>For example, to see the status of the triggering service, ensure the VM is running and then point your browser to <a href="http://localhost:28080">http://localhost:28080</a> This page will show your the current state of what the triggering service is reading.</p>
<p>The Mongo database can be connected directly as if it were local at port 27017.</p>
<h2><a class="anchor" aria-hidden="true" id="interacting-with-the-simulator"></a><a href="#interacting-with-the-simulator" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interacting with the Simulator</h2>
<p>The <a href="https://github.com/openpowerquality/opq/blob/master/sim/sim.py">simulator</a> boots with the VM and simulates a raw 16-bit signed integer waveform that represents the DAC measurements from an OPQBox.</p>
<p>At boot, the simulator will produce a nominal 60Hz sine wave at a perfect 120 Volts. The simulator state can be modified via HTTP POST requests. We provide low level and high level state modifications via filter definitions stored in JSON files.</p>
<h2><a class="anchor" aria-hidden="true" id="low-level-simulator-manipulation"></a><a href="#low-level-simulator-manipulation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Low level simulator manipulation</h2>
<p>The following values define the state of the waveform being generated.</p>
<table>
<thead>
<tr><th>Name</th><th>Default Value</th><th>Notes</th></tr>
</thead>
<tbody>
<tr><td>amplitude</td><td>169.71</td><td>Defines the amplitude of the sine wave. 167.71 = 120.0 Vrms</td></tr>
<tr><td>frequency</td><td>60.0</td><td>The frequency in Hz of the generated wave.</td></tr>
<tr><td>sample_rate_hz</td><td>12000.0</td><td>The number of simulated samples per second</td></tr>
</tbody>
</table>
<p>The state of the waveform generator can be modified at any time by POSTing a JSON request to <code>http://localhost:8000</code>. The format of this type of request is</p>
<pre><code class="hljs">{
  <span class="hljs-attr">"state"</span>: {
    <span class="hljs-attr">"amplitude"</span>: <span class="hljs-number">169.705627485</span>,
    <span class="hljs-attr">"frequency"</span>: <span class="hljs-number">60.0</span>,
    <span class="hljs-attr">"phase"</span>: <span class="hljs-number">0.0</span>,
    <span class="hljs-attr">"sample_rate_hz"</span>: <span class="hljs-number">12000.0</span>
  }
}
</code></pre>
<p>This example changes the amplitude, frequency, phase, and sample rate all at the same time. You should note that it's possible to only modify the values that you want and not all of them. For instance, if you wanted to generate a voltage swell, you could simply raise the amplitude:</p>
<pre><code class="hljs">{
  <span class="hljs-attr">"state"</span>: {
    <span class="hljs-attr">"amplitude"</span>: <span class="hljs-number">200.0</span>,
  }
}
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="high-level-simulator-manipulation"></a><a href="#high-level-simulator-manipulation" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>High level simulator manipulation</h2>
<p>We provide a higher level construct called filters that can be described using JSON and provide for automated control of the waveform generator.</p>
<p>We currently support 2 filters, <code>nop</code> and <code>vrms</code>. We hope to soon implement simmulated support for frequency and THD as well.</p>
<p>The vrms filter will set the amplitude of a waveform over a defined number of cycles. Here is an example:</p>
<pre><code class="hljs">...
{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"vrms"</span>,
  <span class="hljs-string">"target_vrms"</span>: <span class="hljs-number">100.0</span>,
  <span class="hljs-string">"delay_samples"</span>: <span class="hljs-number">12000.0</span>
}
...
</code></pre>
<p>The above example shows a vrms filter that will take the current Vrms and change it to the target_vrms. This can be used to simulate both sags and swells. The argument <code>delay_samples</code> allows us to gradually shift the Vrms over the provided number of samples.</p>
<p>The nop filter will do nothing for the specified number of samples. Here is an example:</p>
<pre><code class="hljs">...
{
  <span class="hljs-string">"name"</span>: <span class="hljs-string">"nop"</span>,
  <span class="hljs-string">"delay_samples"</span>: <span class="hljs-number">12000</span>
}
...
</code></pre>
<p>The above example will do nothing for 12000 samples, leaving the simulator to produce whatever was in its last state.</p>
<p>You might be wondering why this useful? Filters must be wrapped in some JSON that defines filters and how they repeat. A complete filters json definition is provided below.</p>
<pre><code class="hljs">{
  <span class="hljs-attr">"filters"</span>: [
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"vrms"</span>,
      <span class="hljs-attr">"target_vrms"</span>: <span class="hljs-number">140.0</span>,
      <span class="hljs-attr">"delay_samples"</span>: <span class="hljs-number">12000</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"nop"</span>,
      <span class="hljs-attr">"delay_samples"</span>: <span class="hljs-number">12000</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"vrms"</span>,
      <span class="hljs-attr">"target_vrms"</span>: <span class="hljs-number">120.0</span>,
      <span class="hljs-attr">"delay_samples"</span>: <span class="hljs-number">12000</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"nop"</span>,
      <span class="hljs-attr">"delay_samples"</span>: <span class="hljs-number">12000</span>
    }
  ],
  <span class="hljs-attr">"does_repeat"</span>: <span class="hljs-literal">true</span>
}
</code></pre>
<p>This example generates a waveform that produces a swell to 140 Vrms, then sits in the swell state for 12000 samples, then drops back down to 120 Vrms, sits there for 12000 samples, and then repeats indefinitely.</p>
<p>By chaining state filters with nop filters, we have script fine grained control over the waveform generation. This process will only get better as we introduce more filters.</p>
<p>Once a filter is applied, if you want to change the state or change the filter, you will need to add the <code>reset: true</code> directive to your JSON request. Here is an example.</p>
<pre><code class="hljs">
{
  <span class="hljs-attr">"filters"</span>: [
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"vrms"</span>,
      <span class="hljs-attr">"target_vrms"</span>: <span class="hljs-number">140.0</span>,
      <span class="hljs-attr">"delay_samples"</span>: <span class="hljs-number">12000</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"nop"</span>,
      <span class="hljs-attr">"delay_samples"</span>: <span class="hljs-number">12000</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"vrms"</span>,
      <span class="hljs-attr">"target_vrms"</span>: <span class="hljs-number">120.0</span>,
      <span class="hljs-attr">"delay_samples"</span>: <span class="hljs-number">12000</span>
    },
    {
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"nop"</span>,
      <span class="hljs-attr">"delay_samples"</span>: <span class="hljs-number">12000</span>
    }
  ],
  <span class="hljs-attr">"does_repeat"</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">"reset"</span>: <span class="hljs-literal">true</span>
}

</code></pre>
<h2><a class="anchor" aria-hidden="true" id="using-the-provided-http-post-client"></a><a href="#using-the-provided-http-post-client" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the provided HTTP POST client</h2>
<p>In util/box/sim you can call sim.py and pass it a JSON file which the script will then POST to the simulator. Here is how it should be invoked.</p>
<pre><code class="hljs">python3 sim<span class="hljs-selector-class">.py</span> --state path/to/request<span class="hljs-selector-class">.json</span>
</code></pre>
<p>or</p>
<pre><code class="hljs">pyhton3 sim<span class="hljs-selector-class">.py</span> -s path/to/request<span class="hljs-selector-class">.json</span>
</code></pre>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/developerguide-docusaurus.html"><span class="arrow-prev">← </span><span>Documentation</span></a><a class="docs-next button" href="/docs/developerguide-bibliography.html"><span>Bibliography</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#installation">Installation</a></li><li><a href="#running">Running</a></li><li><a href="#interacting-with-the-vm">Interacting with the VM</a></li><li><a href="#interacting-with-the-simulator">Interacting with the Simulator</a></li><li><a href="#low-level-simulator-manipulation">Low level simulator manipulation</a></li><li><a href="#high-level-simulator-manipulation">High level simulator manipulation</a></li><li><a href="#using-the-provided-http-post-client">Using the provided HTTP POST client</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/opqlogo_white.png" alt="Open Power Quality" width="66" height="58"/></a><div><h5>Documentation Quick Links</h5><a href="/docs/intro-opq.html">Overview</a><a href="/docs/userguide-hardware.html">OPQ Box User Guide</a><a href="/docs/userguide-software.html">OPQ View User Guide</a><a href="/docs/other-agile-power-monitoring.html">Agile Power Monitoring for UH</a><a href="/docs/other-roadmap.html">Roadmap</a></div><div><h5>Community</h5><a href="https://openpowerquality.slack.com/" target="_blank" rel="noreferrer noopener">Slack</a><a href="https://twitter.com/opquality" target="_blank" rel="noreferrer noopener">Twitter</a><a href="/blog">News</a><a href="https://ics02.colo.hawaii.edu/">Public OPQ Cloud</a><a href="/contact-us.html">Contact Us</a></div><div><h5>Development</h5><a href="https://github.com/openpowerquality">GitHub</a><a href="https://github.com/openpowerquality/opq/projects">Project Boards</a><a href="/team.html">Developer Team</a><a href="/docs/opportunities.html">Opportunities</a></div></section><p style="text-align:center;color:#e9faff">Open Power Quality is sponsored by:<br/><a style="text-align:center;color:#e9faff" href="http://csdl.ics.hawaii.edu">Collaborative Software Development Laboratory, University of Hawaii</a><br/><a style="text-align:center;color:#e9faff" href="http://www.ics.hawaii.edu">Department of Information and Computer Sciences, University of Hawaii</a><br/><a style="text-align:center;color:#e9faff" href="http://ee.hawaii.edu">Department of Electrical Engineering, University of Hawaii</a><br/></p></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '9bf16cc78135dbeeb3826894ebbbb2ee',
                indexName: 'openpowerquality',
                inputSelector: '#search_input_react'
              });
            </script></body></html>